"0","bike_orderlines_tbl %>%"
"0","    distinct(category_1, category_2, model, price) %>%"
"0","    separate(col    = model,"
"0","           into      = str_c(""model_"",1:7),"
"0","           sep       = "" "","
"0","           remove    = FALSE,"
"0","           fill      = ""right"","
"0","           extra     = ""drop"") %>%"
"0","    mutate(model_base = case_when("
"0","        str_detect(str_to_lower(model_1),""supersix"")~str_c(model_1,model_2,sep = "" ""),"
"0","        str_detect(str_to_lower(model_1),""fat"")~str_c(model_1,model_2,sep = "" ""),"
"0","        str_detect(str_to_lower(model_1),""beast"")~str_c(model_1,model_2,model_3,model_4,sep = "" ""),"
"0","        str_detect(str_to_lower(model_1),""bad"")~str_c(model_1,model_2,sep = "" ""),"
"0","        str_detect(str_to_lower(model_2),""29"")~str_c(model_1,model_2,sep = "" ""),"
"0","        TRUE~ model_1)) %>%"
"0","   select(-matches(""model_[0-9]"")) %>%"
"0","   group_by(category_1, category_2, model_base) %>%"
"0","   summarise("
"0","       mean_price = mean(price),"
"0","       min_price  = min(price),"
"0","       max_price  = max(price)"
"0","   )  %>%"
"0","    ungroup() %>%"
"0","    arrange(desc(mean_price)) %>%"
"0","    mutate_if(is.numeric, ~scales::dollar(., largest_with_cents = 10)) %>%"
"0","    set_names(names(.) %>% str_replace(""_"","" "") %>% str_to_title())"
"1","`summarise()` has grouped output by 'category_1', 'category_2'. You can override using the `.groups` argument.
"
